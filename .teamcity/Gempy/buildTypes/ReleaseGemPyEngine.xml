<?xml version="1.0" encoding="UTF-8"?>
<build-type xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" uuid="5b8c088b-270d-4839-ae26-d0f4482dd1a9" xsi:noNamespaceSchemaLocation="https://www.jetbrains.com/teamcity/schemas/2025.3/project-config.xsd">
  <name>Release GemPy Engine</name>
  <description />
  <settings ref="ReleasePythonPackage">
    <disabled-settings>
      <setting-ref ref="RQ_9" />
    </disabled-settings>
    <parameters>
      <param name="env.org/repo" value="gempy-project/gempy_engine" />
    </parameters>
    <build-runners>
      <runner id="Build" name="Build" type="simpleRunner">
        <parameters>
          <param name="script.content"><![CDATA[#!/usr/bin/env bash
set -euo pipefail

echo "Cleaning build artifacts..."
rm -rf dist build
echo "Clean complete."

# Check if virtualenv exists, if not create it
if [ ! -d "venv" ]; then
    echo "Creating virtual environment..."
    python3 -m venv venv
fi

# Activate the virtual environment
source venv/bin/activate

# ensure build tooling is up to date
python -m pip install --upgrade build

# run the build
python -m build]]></param>
          <param name="teamcity.step.mode" value="default" />
          <param name="use.custom.script" value="true" />
        </parameters>
      </runner>
    </build-runners>
    <vcs-settings>
      <vcs-entry-ref root-id="GempyEngine_HttpsGithubComGempyProjectGempyEngineRefsHeadsMain" />
    </vcs-settings>
    <requirements>
      <exists id="RQ_9" name="env.WSLENV" />
    </requirements>
  </settings>
</build-type>

